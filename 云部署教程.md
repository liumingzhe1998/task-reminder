# 任务提醒系统 - 云服务器部署教程

将任务提醒系统部署到云服务器，实现随时随地访问，无需本地电脑运行。

## 📋 部署方案对比

### 方案一：Render（推荐，免费）

**优点：**
- ✅ 完全免费（750小时/月）
- ✅ 自动HTTPS证书
- ✅ 部署简单，支持GitHub
- ✅ 自动重启
- ✅ 国外访问快

**缺点：**
- ❌ 国内访问可能较慢
- ❌ 15分钟无访问会休眠（免费版）
- ❌ 不支持后台定时任务（邮件提醒功能受限）

---

### 方案二：Railway（推荐，免费）

**优点：**
- ✅ 免费额度$5/月
- ✅ 自动HTTPS
- ✅ 部署非常简单
- ✅ 国内外访问都还不错

**缺点：**
- ❌ 免费额度用完需要付费
- ❌ 同样有休眠机制

---

## 🚀 推荐方案：Render 部署（完全免费）

### 第一步：准备代码

#### 1. 安装 Git
如果还没安装，先安装 Git：
- 访问 https://git-scm.com/download/win
- 下载并安装

#### 2. 创建 GitHub 仓库
1. 访问 https://github.com
2. 登录或注册账号
3. 点击右上角 "+" → "New repository"
4. 仓库名称：`task-reminder`
5. 设置为 Public（公开）
6. 勾选 "Add a README file"
7. 点击 "Create repository"

#### 3. 上传代码到 GitHub

打开命令行（CMD 或 PowerShell），进入项目目录：

```bash
cd C:\Users\12533\Desktop\实验\task-reminder
```

执行以下命令：

```bash
# 初始化 Git 仓库
git init

# 添加所有文件
git add .

# 提交代码
git commit -m "Initial commit: Task Reminder System"

# 添加远程仓库（替换成你的GitHub用户名）
git remote add origin https://github.com/你的用户名/task-reminder.git

# 推送到 GitHub
git branch -M main
git push -u origin main
```

如果需要登录：
- 用户名：GitHub 用户名
- 密码：使用 GitHub Personal Access Token（不是登录密码）
  - 生成 Token：GitHub → Settings → Developer settings → Personal access tokens → Generate new token
  - 勾选 `repo` 权限

---

### 第二步：部署到 Render

#### 1. 注册 Render
1. 访问 https://render.com
2. 点击 "Sign Up"
3. 选择 "Sign up with GitHub"（推荐）
4. 授权 Render 访问你的 GitHub

#### 2. 创建 Web Service

1. 登录 Render 后，点击 "New +"
2. 选择 "Web Service"

#### 3. 配置部署

**连接代码仓库：**
- Repository: 选择你的 `task-reminder` 仓库
- Branch: `main`

**配置服务：**
- Name: `task-reminder`（会自动生成域名）
- Region: Singapore（离国内近，速度快）
- Branch: `main`

**运行时配置：**
- Runtime: `Python 3`
- Build Command: 留空（自动检测）
- Start Command: `python app.py`

**实例类型：**
- 选择 **Free**（免费）

**环境变量（可选）：**
- Key: `FLASK_ENV`
- Value: `production`
- Key: `PORT`
- Value: `5000`

#### 4. 部署

1. 点击 "Create Web Service"
2. 等待部署完成（大约2-3分钟）
3. 看到 "Live" 状态表示部署成功

#### 5. 获取访问地址

部署成功后，Render 会提供一个地址：
```
https://task-reminder.onrender.com
```

这就是你应用的永久访问地址！

---

### 第三步：配置邮箱（如需邮件提醒）

**注意：** 免费版 Render 不支持后台定时任务。

如果想要邮件提醒功能，有两个选择：

#### 选项1：使用 Worker（需要付费）

1. 在 Render 创建 "Background Worker"
2. Start Command: `python scheduler.py`
3. 需要 $7/月

#### 选项2：使用第三方定时服务（免费）

使用 **cron-job.org** 等服务定期调用API：

1. 访问 https://cron-job.org
2. 注册账号
3. 创建定时任务
4. URL: `https://task-reminder.onrender.com/api/send-email`（需要先添加这个API）

---

## 📱 在手机上使用

### 安装 PWA 应用

1. 手机浏览器访问：`https://task-reminder.onrender.com`
2. 按照之前的步骤安装成应用

**Android：**
- Chrome → 菜单 → "添加到主屏幕"

**iOS：**
- Safari → 分享 → "添加到主屏幕"

---

## ⚠️ 注意事项

### 关于免费版的限制

1. **休眠机制**
   - 15分钟无访问会自动休眠
   - 再次访问需要30-60秒唤醒
   - 这是正常的，免费版就这样

2. **数据持久化**
   - Render 的文件系统是临时的
   - 每次部署任务数据会重置
   - **建议：** 使用数据库或定期备份

3. **邮件提醒**
   - 免费版不支持后台 Worker
   - 无法使用定时邮件功能

---

## 🔧 进阶：使用数据库（推荐）

为了数据持久化，建议使用在线数据库：

### 方案1：SQLite + 云存储

使用 Google Drive 或 Dropbox 存储 `tasks.json`

### 方案2：使用在线数据库服务

- **Supabase**（免费）
- **Firebase**（免费）
- **MongoDB Atlas**（免费）

这需要修改代码，将文件存储改为数据库。

---

## 💰 如果想要完整功能

升级到 Render 付费版：
- **Starter**: $7/月
- 支持后台 Worker
- 无休眠限制
- 更快的性能

或者使用国内云服务器：
- **阿里云/腾讯云**: 学生机约 ¥10/月
- **搬瓦工**: $50/年
- 完全控制，无限制

---

## 🎯 总结

### 完全免费方案：
✅ Web访问（随时随地）
✅ 手机PWA应用
✅ 添加/查看/删除任务
❌ 定时邮件提醒
❌ 15分钟休眠

### 付费方案（$7/月）：
✅ 所有功能
✅ 无休眠
✅ 邮件提醒

---

## 📞 需要帮助？

如果部署过程中遇到问题：
1. 检查 Render 日志
2. 确认 GitHub 代码已推送
3. 查看部署状态
4. 检查环境变量配置

祝你部署成功！🎉
